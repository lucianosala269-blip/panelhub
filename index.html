<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ahorcado Stickman</title>

<style>
body {
  margin: 0;
  background: white;
  font-family: Arial;
  text-align: center;
  color: black;
}

#game {
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  align-items: center;
}

/* MUÃ‘ECO */
#hangman {
  position: relative;
  width: 200px;
  height: 300px;
}

/* partes del cuerpo */
.part {
  position: absolute;
  background: black;
}

.head {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  top: 0;
  left: 75px;
}

.body {
  width: 10px;
  height: 100px;
  top: 50px;
  left: 95px;
}

.armL {
  width: 60px;
  height: 10px;
  top: 70px;
  left: 35px;
}

.armR {
  width: 60px;
  height: 10px;
  top: 70px;
  left: 105px;
}

.legL {
  width: 10px;
  height: 70px;
  top: 150px;
  left: 80px;
}

.legR {
  width: 10px;
  height: 70px;
  top: 150px;
  left: 110px;
}

#word {
  font-size: 40px;
  letter-spacing: 10px;
}

#letters button {
  margin: 5px;
  padding: 10px;
  font-size: 16px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
}

#letters button:disabled {
  background: gray;
}

#restart {
  padding: 15px 25px;
  font-size: 18px;
  border-radius: 10px;
  border: none;
  background: black;
  color: white;
  cursor: pointer;
}
</style>
</head>

<body>

<div id="game">

<div id="hangman">
  <div class="part head"></div>
  <div class="part body"></div>
  <div class="part armL"></div>
  <div class="part armR"></div>
  <div class="part legL"></div>
  <div class="part legR"></div>
</div>

<div id="word"></div>
<div id="letters"></div>

<button id="restart" onclick="startGame()">Reiniciar</button>

</div>

<script>
const words = ["CASA","PERRO","GATO","SILLA","MESA","VENTANA","COLCHON","TENEDOR","VASO","ESCOBA"];

let selectedWord = "";
let guessed = [];
let mistakes = 0;

const bodyParts = ["head","body","armL","armR","legL","legR"];

function startGame() {
  selectedWord = words[Math.floor(Math.random() * words.length)];
  guessed = [];
  mistakes = 0;

  document.querySelectorAll(".part").forEach(p => p.style.display = "block");

  createLetters();
  updateWord();
}

function createLetters() {
  const lettersDiv = document.getElementById("letters");
  lettersDiv.innerHTML = "";

  "ABCDEFGHIJKLMNÃ‘OPQRSTUVWXYZ".split("").forEach(letter => {
    const btn = document.createElement("button");
    btn.textContent = letter;
    btn.onclick = () => guess(letter, btn);
    lettersDiv.appendChild(btn);
  });
}

function guess(letter, btn) {
  btn.disabled = true;

  if (selectedWord.includes(letter)) {
    guessed.push(letter);
  } else {
    removePart();
  }

  updateWord();
  checkGame();
}

function removePart() {
  if (mistakes < bodyParts.length) {
    document.querySelector("." + bodyParts[mistakes]).style.display = "none";
    mistakes++;
  }
}

function updateWord() {
  const wordDiv = document.getElementById("word");
  wordDiv.textContent = selectedWord
    .split("")
    .map(l => guessed.includes(l) ? l : "_")
    .join(" ");
}

function checkGame() {
  if (mistakes === bodyParts.length) {
    alert("Perdiste empieza de nuevo");
    startGame();
  }

  if (selectedWord.split("").every(l => guessed.includes(l))) {
    alert("Ganaste ðŸŽ‰");
    startGame();
  }
}

startGame();
</script>

</body>
</html>
